---
title: 系统架构的演变
categories: [其他]
comments: true
---
- [1 单体应用架构](#1-单体应用架构)
- [2 垂直应用架构](#2-垂直应用架构)
- [3 分布式架构](#3-分布式架构)
- [4 SOA 架构](#4-soa-架构)
- [5 微服务架构](#5-微服务架构)
- [6 总结](#6-总结)


### 1 单体应用架构

单体应用架构：互联网早期，一般的网站应用流量较小，只需一个应用，将所有功能代码都部署在一起就可以，这样可以减少开发、部署和维护的成本。

![单体应用架构](/assets/img/系统架构的演变/单体应用架构.png)

优点：
1. 架构简单，开发成本低
2. 项目部署在一个节点，维护方便

缺点：
1. 全部功能集成在一个工程中，对于大型项目来讲不易开发和维护
2. 项目模块之间紧密耦合，单点容错率低
3. 无法针对不同模块进行针对性优化和水平扩展

**关键词**：耦合、容错率、水平扩展

### 2 垂直应用架构

垂直应用架构：将原来的一个应用拆成互不相干的几个应用，以提升效率。

出现动机：随着访问量的逐渐增大，单一应用只能依靠增加节点来应对，但是这时候会发现并不是所有的模块都会有比较大的访问量.

![垂直应用架构](/assets/img/系统架构的演变/垂直应用架构.png)

优点：
1. 系统拆分实现了流量分担，解决了并发问题，而且可以针对不同模块进行优化和水平扩展
2. 一个系统的问题不会影响到其他系统，提高容错率

缺点：
1. 系统之间相互独立， 无法进行相互调用
2. 系统之间相互独立， 会有重复的开发任务

**关键词**：流量分担、水平扩展、容错率、重复开发

### 3 分布式架构

分布式架构：把工程拆分成表现层和服务层两个部分，服务层中包含业务逻辑。表现层只需要处理和页面的交互，业务逻辑都是调用服务层的服务来实现。

出现动机：当垂直应用越来越多，重复的业务代码就会越来越多。这时候，我们就思考可不可以将重复的代码抽取出来，做成统一的业务层作为独立的服务，然后由前端控制层调用不同的业务层服务

![分布式架构](/assets/img/系统架构的演变/分布式架构.png)

优点：抽取公共的功能为服务层，提高代码复用性

缺点：系统间耦合度变高，调用关系错综复杂，难以维护

**关键词**：代码复用性、耦合度

### 4 SOA 架构

SOA 架构：分布式系架构上增加了资源调度与治理中心

出现动机：当服务越来越多，容量的评估，小服务资源的浪费等问题逐渐显现，此时需增加一个调度中心对集群进行实时管理

![SOA架构](/assets/img/系统架构的演变/SOA架构.png)

优点：
1. 使用注册中心解决了服务间调用关系的自动调节

缺点：
1. 服务间会有依赖关系，一旦某个环节出错会影响较大( 服务雪崩 )
2. 服务关系复杂，运维、测试部署困难

**关键词**：自动调节、服务雪崩、运维困难

tips: 这里只列举了一种 方案，还有被称之为 ESB 企业服务总线的方案

### 5 微服务架构

微服务架构：SOA 基础上强调服务彻底拆分

出现动机：为增强协作，逻辑解耦，让每个业务系统可独立开发、设计、运行。

![微服务架构](/assets/img/系统架构的演变/微服务架构.png)


优点：
1. 服务原子化拆分，独立打包、部署和升级，保证每个微服务清晰的任务划分，利于扩展
2. 微服务之间采用 Restful 等轻量级 http 协议相互调用

缺点：
1. 分布式系统开发的技术成本高（容错、分布式事务等）

**关键词**：服务拆分、逻辑解耦、扩展


![微服务架构技术](/assets/img/系统架构的演变/微服务架构技术.png)

### 6 总结

我们为什么了解演变过程？每一个技术都有其服务背景，而新技术的出现则是为了解决旧技术的问题，我们要关注每个架构的优缺点以及未来的发展趋势，这样才能更好的应用到实际的项目中。

![微服务架构技术](/assets/img/系统架构的演变/系统架构演变.png)

**关键内容**：耦合度、容错率、（垂直、水平）扩展、流量分担、代码复用性、自动调节、服务雪崩、运维困难、服务拆分、逻辑解耦、开发成本
